# Release Toolkit Tests

æœ¬ç›®å½•åŒ…å« `@ruan-cat/release-toolkit` çš„æµ‹è¯•æ–‡ä»¶ã€‚

## æµ‹è¯•æ–‡ä»¶

- `emoji-commit-parsing.test.ts` - emoji æäº¤æ¶ˆæ¯è§£æåŠŸèƒ½çš„æµ‹è¯•
- `run-tests.ts` - æµ‹è¯•è¿è¡Œå™¨ï¼Œæ‰§è¡Œæ‰€æœ‰æµ‹è¯•

## è¿è¡Œæµ‹è¯•

### å¼€å‘ç¯å¢ƒï¼ˆç›´æ¥è¿è¡Œ TypeScriptï¼‰

```bash
# åœ¨ release-toolkit ç›®å½•ä¸‹
pnpm test

# æˆ–è€…ç›´æ¥è¿è¡Œ
pnpm exec tsx src/tests/run-tests.ts
```

### ç”Ÿäº§ç¯å¢ƒï¼ˆæ„å»ºåè¿è¡Œï¼‰

```bash
# æ„å»ºå¹¶è¿è¡Œæµ‹è¯•
pnpm test:build

# æˆ–è€…åˆ†æ­¥æ‰§è¡Œ
pnpm build
node dist/tests/run-tests.js
```

## æµ‹è¯•å†…å®¹

### Emoji Commit Parsing Tests

æµ‹è¯• changelogen çš„ emoji commit è§£æåŠŸèƒ½ï¼ŒéªŒè¯ä»¥ä¸‹æ ¼å¼ï¼š

1. **Gitmoji ä»£ç æ ¼å¼**: `:sparkles: feat(auth): æ–°å¢ç”¨æˆ·è®¤è¯åŠŸèƒ½`
2. **Unicode emoji æ ¼å¼**: `âœ¨ feat(auth): æ–°å¢ç”¨æˆ·è®¤è¯åŠŸèƒ½`
3. **å¸¦ä½œç”¨åŸŸ**: `ğŸ fix(api): ä¿®å¤æ•°æ®è·å–é”™è¯¯`
4. **æ ‡å‡†æ ¼å¼**: `feat(api): æ–°å¢æ•°æ®å¯¼å‡ºåŠŸèƒ½`
5. **Breaking changes**: `ğŸ”¥ feat!: remove deprecated API`
6. **Pull Request å¼•ç”¨**: `âœ¨ feat(auth): add OAuth support (#123)`

### æµ‹è¯•ç”¨ä¾‹ç»Ÿè®¡

- **Emoji parsing**: 7 ä¸ªæµ‹è¯•ç”¨ä¾‹
- **Invalid messages**: 3 ä¸ªæµ‹è¯•ç”¨ä¾‹  
- **Breaking changes**: 1 ä¸ªæµ‹è¯•ç”¨ä¾‹
- **PR references**: 1 ä¸ªæµ‹è¯•ç”¨ä¾‹
- **Supported formats**: 4 ä¸ªæµ‹è¯•ç”¨ä¾‹

**æ€»è®¡**: 16 ä¸ªæµ‹è¯•ç”¨ä¾‹

## æ·»åŠ æ–°æµ‹è¯•

è¦æ·»åŠ æ–°çš„æµ‹è¯•åŠŸèƒ½ï¼š

1. åœ¨ç›¸åº”çš„ `.test.ts` æ–‡ä»¶ä¸­æ·»åŠ æµ‹è¯•å‡½æ•°
2. åœ¨ `runAllTests()` å‡½æ•°ä¸­è°ƒç”¨æ–°çš„æµ‹è¯•
3. æ›´æ–° `run-tests.ts` å¦‚æœéœ€è¦æ–°çš„æµ‹è¯•å…¥å£
4. è¿è¡Œæµ‹è¯•ç¡®ä¿ä¸€åˆ‡æ­£å¸¸

## æ³¨æ„äº‹é¡¹

- æµ‹è¯•æ–‡ä»¶ä½¿ç”¨è‡ªå®šä¹‰çš„ç®€å•æ–­è¨€å‡½æ•°ï¼Œä¸ä¾èµ–å¤–éƒ¨æµ‹è¯•æ¡†æ¶
- æ‰€æœ‰æµ‹è¯•è¾“å‡ºéƒ½ä¼šåœ¨æ§åˆ¶å°æ˜¾ç¤ºï¼Œä¾¿äºè°ƒè¯•
- æµ‹è¯•å¤±è´¥ä¼šè¿”å›éé›¶é€€å‡ºç ï¼Œé€‚åˆ CI/CD é›†æˆ