# 2025-5-26 会议材料

## 接口审核培训

学会在apifox内，根据业务，评审接口是否可用。

1. 评审的目的是确保接口满足业务，能够实现业务。
2. 核对双方的业务理解。

## 基础评审标准

### 新增接口用post请求，不是get请求

### 分页接口

分页接口遵循以下严格的规范。

#### 分页接口必须是get请求

必须统一为get请求，不要乱搞别的请求类型。

::: details 该接口不应该是post请求

![2025-05-26-17-59-47](https://s2.loli.net/2025/05/26/K2W5DTrFlm4EXAV.png)

:::

#### 分页接口请求的页码和页数仅为pageIndex和pageSize

按照规范，仅为`pageIndex`和`pageSize`，两个名称。

#### 分页接口的pageIndex和pageSize必须设计成必填项

分页接口必须要求前端上传明确的页码和页数。如果前端没有提供页码和页数，那么后端的分页接口应该主动报400错误，要求前端补全分页字段。

::: details 提供必填校验的正确接口

![2025-05-26-18-07-40](https://s2.loli.net/2025/05/26/GtaVBbDuwhiSxdp.png)

![2025-05-26-18-51-16](https://s2.loli.net/2025/05/26/x6iWJYphQVFePwT.png)

:::

::: details 未提供参数校验的错误接口

![2025-05-26-18-24-58](https://s2.loli.net/2025/05/26/mvhEkezPb9FGtWI.png)

:::

#### 分页列表页返回值必须为PageDTO

必须严格套模板，返回为 `PageDTO` ，否则数据结构不统一。影响开发进度。

#### 不允许私自新建规范外的变量

分页接口统一的变量仅为 `pageIndex` 和 `pageSize`，不允许新建其他多余的 pageNum。

::: details 不允许对规范内的变量改名

![2025-05-26-17-59-09](https://s2.loli.net/2025/05/26/gbO9efp5lIjqnQo.png)

:::

### 返回值必须被JsonVO包裹

#### 常见的业务接口必须满足该规范

任何接口都必须用 `JsonVO` 泛型包装。否则前端无法得知业务处理吗code的状态。无法得知业务是否是10000，是业务正常还是失败。

其返回值格式必须是`code`、`message`、`data`的格式。

#### 文件接口不需要遵守该规范

比如接口向前端返回文件时，就不需要满足该规范。

### 字段命名

### 接口路由命名

一会小驼峰：

::: details 小驼峰

![2025-05-26-17-42-50](https://s2.loli.net/2025/05/26/RYamsqUQ8zL2Zh6.png)

:::

一会又是短杆加大驼峰：

::: details 短杆加大驼峰

![2025-05-26-17-43-28](https://s2.loli.net/2025/05/26/FjwD7YHvorumkVx.png)

:::

这样的接口路由命名肯定是不合适的，要求他们统一接口命名风格。

### 变量名应该统一为小驼峰

按照后端规范，其接口的变量名必须为小驼峰，不能直接用下划线划分。

::: details 下划线划分的接口

![2025-05-26-18-52-15](https://s2.loli.net/2025/05/26/O53aQcXtk2epVUj.png)

:::

### 变量名称注释

变量名称注释缺漏，不清楚，语义化不强。

::: details 缺漏变量注释

![2025-05-26-17-46-03](https://s2.loli.net/2025/05/26/ajoNKIG6gCTJiDb.png)

:::

::: details 变量只有纯英文注释，等于没有注释

![2025-05-26-17-56-39](https://s2.loli.net/2025/05/26/ch7OXC1RnYxFZev.png)

:::

### 缺漏字段

接口没有提供相应的字段实现功能。比如以下的接口，按照原型是要求上传用户的身份证号的。

::: details 原型要求上传身份证号

![2025-05-26-17-52-54](https://s2.loli.net/2025/05/26/ZRcuvqDL9FeQAgV.png)

:::

::: details 接口缺漏身份证号

没有提供身份证号字段，无法满足业务需求。

![2025-05-26-17-53-53](https://s2.loli.net/2025/05/26/7IMyAjwa4FlPNxR.png)

:::

### 变量没有设计成枚举，且没有提供明确的枚举值

## 业务评审

视情况而定。具体业务具体分析。
