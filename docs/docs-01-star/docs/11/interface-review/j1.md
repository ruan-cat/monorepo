# j1

::: tip 负责项

- 【j1】登录系统（6）、常用菜单（4）、菜单管理（21）、首页面板（8）

:::

## 在线评审视频链接

## 获取可选菜单下拉列表

[/menu/commonmenu/queryname](https://app.apifox.com/link/project/6386631/apis/api-300975587)

1. 如原型所示，该接口应该返回【菜单名称】，和【菜单id】组成的数组。

![2025-06-04-14-51-32](https://s2.loli.net/2025/06/04/cKvQJl5VdrseGYu.png)

返回值为空，这不是有意义的接口。

![2025-06-04-14-53-09](https://s2.loli.net/2025/06/04/hsmO23nXwWygKcM.png)

## 添加常用菜单

[/menu/commonmenu/add](https://app.apifox.com/link/project/6386631/apis/api-300975585)

1. 不应该传递【模块-菜单名称】，前端应该传递的是id值，是【菜单id】，而不是在数据库内存储中文名称。

![2025-06-04-14-53-52](https://s2.loli.net/2025/06/04/4i5kh3nQ7UAEIjt.png)

## 获取常用菜单列表（条件+分页）

[/menu/commonmenu/queryall](https://app.apifox.com/link/project/6386631/apis/api-300975586)

1. 分页字段是必填项，必须校验。不要指望前端自己主动传递分页值。后端要做校验。

![2025-06-04-14-55-24](https://s2.loli.net/2025/06/04/vd5k6wQ3osmjxaH.png)

## 分页查询菜单目录

[/menumana/query-menucatalogpage](https://app.apifox.com/link/project/6386631/apis/api-300975578)

1. 分页字段要做必填项校验。
2. 前端查询 storeType 商户类型时，不可能传递纯中文当做类型来查询的。应该换成具体的code。
3. 如原型所示，商户类型是必填项，必须要提供商户类型，才能查询菜单。

::: details 必填校验

![2025-06-04-15-06-22](https://s2.loli.net/2025/06/04/z3G7WfLTehCqZKJ.png)

:::

::: details storeType 商户类型不能传递纯中文

![2025-06-04-15-07-28](https://s2.loli.net/2025/06/04/dabq6tVnChTf8Ls.png)

![2025-06-04-15-07-48](https://s2.loli.net/2025/06/04/ByxWTuCKHR3anEU.png)

:::

::: details storeType 商户类型是必填项

![2025-06-04-15-10-52](https://s2.loli.net/2025/06/04/Xf1VkM7zK9P8I5j.png)

:::

## 添加菜单目录

[/menumana/add-menucatalog](https://app.apifox.com/link/project/6386631/apis/api-300975576)

1. 取名不要写成【组名称】，写成菜单名称，否则会带来误导。
2. storeType 商户类型，前端不可能传递纯中文作为类型查询值。应该为具体的code。

::: details 字段备注改名

![2025-06-04-15-16-55](https://s2.loli.net/2025/06/04/5lOhwnfGtiyYqrp.png)

:::

::: details 不能用中文作为类型的值

![2025-06-04-15-18-07](https://s2.loli.net/2025/06/04/GBntaDHIyfzwl2g.png)

:::

## 修改菜单目录

[/menumana/modify-menucatalog/{id}](https://app.apifox.com/link/project/6386631/apis/api-300975577)

1. 统一请求方式。前端为了满足项目内全部500多个接口的写法，是不可能同时满足Path和Body参数写法的。应该写成唯一的body写法，在body内传递id值。
2. 其余更改内容和【添加菜单目录】接口一样。

![2025-06-04-15-20-07](https://s2.loli.net/2025/06/04/YuZE2R9JfPjqbH5.png)
